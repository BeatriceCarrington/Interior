@inherits RazorFunction

@functions {
    public override string FunctionDescription
    {
        get { return "A demo function that outputs a hello message."; }
    }

    [FunctionParameter(DefaultValue = "World")]
    public string Name { get; set; }

    //[FunctionParameter(DefaultValue = "World")]
    //public DataReference<Rain.Gallery> ListImage { get; set; }
    [FunctionParameter(Label = "Images folder", Help = "The media folder with the images you want to display in a slider")]
    public DataReference<IMediaFileFolder> ImagesFolder { get; set; } 
}

@{
    var imageQuery = Data.Get<IMediaFile>().Where(m => m.FolderPath == ImagesFolder.Data.Path);

    //imageQuery = Randomized ? imageQuery.OrderBy(m => Guid.NewGuid()) : imageQuery;
    var images = imageQuery.ToList();         
        
 }
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://www.composite.net/ns/function/1.0">
<head>
</head>
<body>

    <div class="row-fluid">
        <ul class="thumbnails">
            @{
                int i = 1;

                foreach (var item in images)
                {
                   
      
                <li class="span4"><a href="@Html.C1().MediaUrl(item)" class="thumbnail item">
                    @*<img src="@Html.C1().MediaUrl(item)?mw=200" />*@
                    <img src="@Html.C1().MediaUrl(item)?mw=200" />

                                  </a></li>

                    if (i % 3 == 0)
                    {
                        @Html.Raw(" </ul></div><div class=\"row-fluid\"><ul class=\"thumbnails\">")

                    }
                    i++;
                } 
                
                
        
            }
        </ul>
    </div>
</body>
</html>
